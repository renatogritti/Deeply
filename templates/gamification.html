<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deeply - Gamification</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/gamification.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body data-user-id="{{ session.get('user_id') }}">
    <div class="header">
        <div class="header-left">
            <svg class="logo" viewBox="0 0 24 24">
                <path fill="currentColor" d="M20,2H4V4L9.81,8.36C6.14,9.57 4.14,13.53 5.35,17.2C6.56,20.87 10.5,22.87 14.19,21.66C17.86,20.45 19.86,16.5 18.65,12.82C17.95,10.71 16.3,9.05 14.19,8.36L20,4V2M14.94,19.5L12,17.78L9.06,19.5L9.84,16.17L7.25,13.93L10.66,13.64L12,10.5L13.34,13.64L16.75,13.93L14.16,16.17L14.94,19.5Z"/>
            </svg>
            <h1>Deep Work Stats</h1>
        </div>
    </div>

    <div class="sidebar">
        <button class="sidebar-button" onclick="window.location.href='/kanban'">
            <svg viewBox="0 0 24 24">
                <path fill="currentColor" d="M4 3C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3H4M4 5H20V19H4V5M6 7V17H10V7H6M12 7V11H16V7H12M12 13V17H16V13H12Z"/>
            </svg>
            <span>Voltar ao Kanban</span>
        </button>
    </div>

    <div class="frames-container">
        <div class="gamification-container">
            <!-- Novo card de medalha -->
            <div id="medalCard" class="stats-section medal-card" style="display: none;">
                <div class="medal-content">
                    <div class="big-medal"></div>
                    <div class="medal-info">
                        <h2 class="medal-title">Parabéns!</h2>
                        <p class="medal-text"></p>
                    </div>
                </div>
            </div>

            <div class="stats-section">
                <div class="stats-header">
                    <h2 class="stats-title">Tempo em Deep Work</h2>
                    <div class="period-selector">
                        <button class="period-button active" onclick="switchPeriod('week')">Semana</button>
                        <button class="period-button" onclick="switchPeriod('month')">Mês</button>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="deepWorkChart"></canvas>
                </div>
            </div>
            <!-- Novo card de ranking -->
            <div class="stats-section ranking-section">
                <div class="stats-header">
                    <h2 class="stats-title">Top 5 Deep Workers</h2>
                </div>
                <div class="ranking-list" id="rankingList">
                    <!-- Preenchido via JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/gamification.js') }}"></script>
</body>
</html>
